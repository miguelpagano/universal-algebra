\section{Introduction}

Universal algebra, initiated by \cite{birkhoff-1935}, is the study of
different types of algebraic structures at an abstract level, thus
revealing common results which are valid for all of them and also
allowing for a unified definition of constructions (for example,
products, sub-algebra, congruences). Universal algebra has played a
relevant role in computer science since its earliest days, in
particular the seminal paper of \cite{birkhoff-70} features regular
languages as a prominent example; shortly before, \cite{burstall69}
had proved properties of programs using structural induction, by
conceiving the language as an initial algebra. The ADJ
group \citep[see][]{goguen-adj} promoted multi-sorted algebras as a key
theoretical tool for specifying data
types~\citep{adj-abstract-data-types}, semantics~\citep{goguen-77}, and
compilers~\citep{thatcher1981more}.  More recently,
institutions~\citep{goguen-92}, a generalization of universal algebra,
has been used as a foundation of methodologies and frameworks for
software specification and development~\citep{sannella2012foundations}.

In spite of the rich mathematical theory of heterogeneous algebras
(mostly inherited from the monosorted setting, but with some nuances
as explained by \cite{tarlecki-nuances} and \cite{adamek-2012}), there are few publicly
available formalizations in type theory (which we discuss in the
conclusion).  This situation is to be contrasted with impressive
advances in mechanization of particular algebraic structures as
witnessed, for example, by the proof of the Feit-Thompson theorem in
Coq by Gonthier and his team~\citeyearpar{gonthier2013machine}.

In this work we present an Agda library of multi-sorted universal
algebra aiming both a reader with a background in the area of
algebraic specifications and also the community of type theory.  For
the former, we try to explain enough Agda in order to keep the paper
self-contained; we will recall the most important definitions of
universal algebra. The main contributions of this paper are:
\begin{itemize}
\item the first formalization of basic universal algebra in Agda;
\item the first, to our knowledge, formalization in type theory of
  derived signature morphisms and the reduct algebras induced by them;
\item a novel representation of heterogeneous signatures in
  type theory, where operations are modelled using sets indexed by
  arities; and
\item an independent library of heterogeneous vectors.
\end{itemize}

We formalized the proof that the term algebra is initial and also the
proofs of the three isomorphism theorems; moreover we also define a
deduction system for conditional equational logic and prove its
soundness and completeness with respect to Goguen and Meseguer
semantics~\citeyearpar{GoguenM82}; moreover we prove that the term model (the
term algebra quotiened by the provable equivalence relation) is
initial among models. Then we show that the class of models of any
conditional equational theory is closed by Isomorphisms, Subalgebras
and (arbitrary) products; if the theory is equational then its models
are also closed by homomorphic images. As a nice corollary we can
prove that fields are not (finitely) axiomatizable.

We also showed that the translations of theories arising from derived
signature morphisms induces a contra-variant functor between models.
In the complete development, which is available at
\url{https://cs.famaf.unc.edu.ar/~mpagano/universal-algebra/}, we
include several examples featuring both the use of equational
reasoning and the preservation of models by signature morphisms.

\textit{Outline.} In Sec.~\ref{sec:univ-alg} we introduce the basic
concepts of Universal Algebra: signature, algebras and homomorphisms,
congruences, quotients and subalgebras, the proofs of three
isomorphisms theorems, and the proof of the initiality of the term
algebra.  In Sec.~\ref{sec:eqlog} we define an equational calculus,
introducing concepts of equations, theories, satisfiability and
provability, ending with the Birkhoff proofs of soundness and
completeness.  In Sec.~\ref{sec:trans} we introduce a new
representation of (derived) signature morphisms and reduct algebras
(and homomorphisms), and we explore translation and implication of
theories. We explain in Sec.~\ref{sec:extheories} how we implemented
the equational theory of monoids and, on top of it, that of groups.
% with the property of preservation of models, under some
%restrictions.
Finally, we conclude in Sec.~\ref{sec:conclusions}, discussing the
work done, and pointing out possible future directions.
